{"mappings":"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","sources":["src/scripts/script.js"],"sourcesContent":["let currPage = 1;\nconst productsPerPage = 24;\nconst totalProducts = 461;\nconst totalPages = Math.ceil(totalProducts / productsPerPage);\n\nasync function fetchProducts(page) {\n  const BASE_URL = `https://voodoo-sandbox.myshopify.com/products.json?limit=${productsPerPage}&page=${page}`;\n  const response = await fetch(BASE_URL);\n  const data = await response.json();\n  \n  return data.products;\n}\n\nfunction createProduct(product) {\n  const productCard = document.createElement('div');\n  productCard.classList.add('w-80', 'h-max', 'm-4', 'rounded', 'mt-12');\n\n  const productImage = document.createElement('img');\n  productImage.classList.add(\n    'w-auto',\n    'h-auto',\n    'border',\n    'border-black',\n    'rounded',\n    'relative',\n    'mb-2'\n  );\n  productImage.setAttribute('alt', 'Product Image');\n  if (product.images.length > 0) {\n    productImage.setAttribute('src', product.images[0].src);\n  } else {\n    productImage.setAttribute(\n      'src',\n      'https://cdn.shopify.com/s/files/1/0690/0075/7529/products/5196c9302b12ec8d50d0e700e2865c2a.png?v=1694603298',\n    );\n  }\n\n  const productSource = document.createElement('div');\n  productSource.classList.add('bg-black', 'text-sm', 'font-space', 'text-white', 'uppercase', 'absolute', 'm-3', 'rounded', 'block', 'p-2', 'z-10');\n  productSource.textContent = 'Used';\n\n  const firstLine = document.createElement('div');\n  firstLine.classList.add('flex', 'justify-between');\n\n  const productName = document.createElement('p');\n  productName.classList.add('font-bold', 'text-black', 'text-sm', 'capitalize');\n  productName.textContent = product.title;\n\n  const productCondition = document.createElement('p');\n  productCondition.classList.add('text-sm', 'font-bold', 'text-black');\n  productCondition.textContent = 'Condition';\n\n  const secondLine = document.createElement('div');\n  secondLine.classList.add('flex', 'justify-between');\n\n  const productPrice = document.createElement('p');\n  productPrice.classList.add('font-bold', 'text-black', 'text-sm');\n  productPrice.textContent = product.variants[0].price;\n\n  const productDescription = document.createElement('p');\n  productDescription.classList.add('text-sm', 'text-black');\n  productDescription.textContent = 'Slightly used';\n\n  const addToCartButton = document.createElement('button');\n  addToCartButton.classList.add('bg-black', 'text-white', 'w-full', 'my-4', 'p-4');\n  addToCartButton.textContent = 'Add to cart';\n\n  firstLine.appendChild(productName, productCondition);\n  firstLine.appendChild(productCondition);\n\n  secondLine.appendChild(productPrice, productDescription);\n  secondLine.appendChild(productDescription);\n\n  productCard.appendChild(productSource);\n  productCard.appendChild(productImage);\n  productCard.appendChild(firstLine);\n  productCard.appendChild(secondLine);\n  productCard.appendChild(addToCartButton);\n  \n  const container = document.getElementById('products');\n  container.appendChild(productCard);\n}\n\nfunction getPageNumbers(pageCount, currentPage, visiblePages) {\n  const pages = [];\n\n  if (pageCount <= visiblePages) {\n    for (let i = 1; i < pageCount; i++) {\n      pages.push(i);\n    }\n  } else {\n    const halfVisiblePages = Math.ceil(visiblePages / 2);\n\n    if (currentPage <= halfVisiblePages) {\n      for (let i = 1; i <= visiblePages - 1; i++) {\n        pages.push(i);\n      }\n\n      pages.push('...');\n      pages.push(pageCount);\n    } else if (currentPage >= pageCount - halfVisiblePages) {\n      pages.push(1);\n      pages.push('...');\n\n      for (let i = pageCount - visiblePages + 2; i <= pageCount; i++) {\n        pages.push(i);\n      }\n    } else {\n      pages.push(1);\n      pages.push('...');\n      for (let i = currentPage - halfVisiblePages + 2; i <= currentPage + halfVisiblePages - 2; i++) {\n        pages.push(i);\n      }\n      pages.push('...');\n      pages.push(pageCount);\n    }\n  }\n\n  return pages;\n}\n\n\nfunction renderPagination() {\n  const paginationContainer = document.createElement('div');\n  paginationContainer.classList.add('flex', 'gap-4', 'content-center');\n\n  const maxVisiblePages = 5;\n  const pageNumbers = getPageNumbers(totalPages, currPage, maxVisiblePages);\n\n  pageNumbers.forEach(page => {\n    const pageButton = document.createElement('button');\n    pageButton.textContent = page;\n    pageButton.classList.add(\n      'w-10',\n      'h-10',\n      'rounded-full',\n      'border',\n      'border-black',\n    );\n\n    if (currPage === page) {\n      pageButton.classList.add('bg-gray-900', 'text-white');\n    } else {\n      pageButton.classList.remove('bg-gray-900', 'text-white');\n    }\n\n    if (page === '...') {\n      pageButton.disabled = true;\n      pageButton.classList.add('pointer-events-none');\n    } else {\n        pageButton.addEventListener('click', () => {\n        currPage = page;\n\n        fetchProducts(currPage).then(products => {\n          const container = document.getElementById('products');\n          container.innerHTML = '';\n          products.forEach(product => {\n            createProduct(product);\n          });\n        });\n        renderPagination();\n      });\n    }\n\n    paginationContainer.appendChild(pageButton);\n  });\n\n  const container = document.getElementById('pagination');\n  container.innerHTML = '';\n  container.appendChild(paginationContainer);\n}\n\nfetchProducts(currPage).then(products => {\n  return products.forEach(product => {\n    createProduct(product);\n  });\n}).then(() => {\n  renderPagination();\n});\n\nfunction handleOpenCart() {\n  const asideCart = document.querySelector('aside');\n  asideCart.classList.remove('translate-x-full');\n}\n\nfunction handleCloseCart() {\n  const asideCart = document.querySelector('aside');\n  asideCart.classList.add('translate-x-full');\n}\n\nfunction handleOpenInfo() {\n  const info = document.getElementById('info');\n  info.classList.toggle('hidden');\n}\n\nconst closeCartButton = document.getElementById('close');\nconst openCartButton = document.getElementById('cart');\nconst openInfoButton = document.getElementById('more-info');\n\nopenCartButton.addEventListener('click', handleOpenCart);\ncloseCartButton.addEventListener('click', handleCloseCart);\nopenInfoButton.addEventListener('click', handleOpenInfo);\n"],"names":[],"version":3,"file":"index.09d9d7db.js.map","sourceRoot":"/__parcel_source_root/"}